<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>前端训练营 - FECamps</title>
<link rel="stylesheet" type="text/css" href="main3.css">
<style>
</style>
<script type="text/javascript">
'use strict';

window.onload = function () {
    // 注：每次请求必须带上的公共参数,如token
    Requester.addSysParam(function(data){
        data.uid = hui.util.getCookie('uid');
    });

    Requester.get('/ue_api/account/get_uid?' + 'rand=' + Math.random(), {
        onsuccess: function (result) {
            if (result && !result[0] && result[1]) {
                var uid = String(result[1][0]);
                hui.g('uid').innerHTML = uid;
                hui.cc('link').style.display = 'block';

                hui.util.setCookie('uid', uid);

                window.test_id = hui.util.getCookie('test_id');
                
                initPageIndex();
                initPageHistory();
                initPageIndustry();
                initPageLesson();
                initPageAbout();
                
                initPageTest();
                initPageStart();
                initPageResult();
                initPageCandidate();
                initPageReport();
                initPageDetail();
                initPageSendSMS();
                
                hui.Action.start();

            }
        }
    });

};

function showTab(tab, main) {
    hui.util.removeClass(hui.g('menu_index'   ), 'item_selected');
    hui.util.removeClass(hui.g('menu_industry'), 'item_selected');
    hui.util.removeClass(hui.g('menu_lesson'  ), 'item_selected');
    hui.util.removeClass(hui.g('menu_test'    ), 'item_selected');
    hui.util.removeClass(hui.g('menu_history' ), 'item_selected');
    hui.util.removeClass(hui.g('menu_about'   ), 'item_selected');
    
    hui.util.addClass(hui.g('menu_' + tab), 'item_selected');

    hui.g('index'    ).style.display = 'none';
    hui.g('industry' ).style.display = 'none';
    hui.g('lesson'   ).style.display = 'none';
    hui.g('history'  ).style.display = 'none';
    hui.g('about'    ).style.display = 'none';

    hui.g('test'     ).style.display = 'none';
    hui.g('start'    ).style.display = 'none';
    hui.g('result'   ).style.display = 'none';
    hui.g('candidate').style.display = 'none';
    hui.g('report'   ).style.display = 'none';
    hui.g('detail'   ).style.display = 'none';
    hui.g('send_sms' ).style.display = 'none';

    main = main || tab;
    hui.g(main).style.display = 'block';
}



//-->
</script>
</head>
<body style="" onload123="initForTest()">
<!--.page>.page_head>.logo^+.page_banner>h1.test_title{你想知道自己前端技术实力排名吗？}+.test_desc{2014年，北京、上海、广州的互联网公司已超过30,000家，其中前端开发人员已超过100,000人，想知道你自己技术实力的排名吗}+.test_btn{立即测试}^+.page_foot{2014-10-17}-->
<div class="page">
    <div class="page_head">
        <div class="page_container">
            <div class="sign" style="display:none;"><a class="sign_in">登录</a><a class="sign_up">注册</a> </div>
            <div class="logo"><img src="img/logo.png" alt=""></div>
            <div class="menu">
                <ul class="menu_list">
                    <li class="menu_item item_selected" id="menu_index" onclick1="showTab(this,'menu_index')" ><a href="#!/">首 页</a></li>
                    <li class="menu_item" id="menu_industry" onclick1="showTab(this,'menu_industry')"><a href="#!/industry">行业现状</a></li>
                    <li class="menu_item" id="menu_lesson" onclick1="showTab(this,'menu_lesson')"><a href="#!/lesson">课程介绍</a></li>
                    <li class="menu_item" id="menu_test" onclick1="showTab(this,'menu_history')"><a href="#!/test">技能测试</a></li>
                    <li class="menu_item" id="menu_history" onclick1="showTab(this,'menu_history')"><a href="#!/history">测评历史</a></li>
                    <!--li class="menu_item" id="menu_about" onclick1="showTab(this,'menu_about')"><a href="#!/about">关于我们</a></li-->
                </ul>
            </div>
            <div class="link" style="text-align:right;display:none;">
                用户名: <span id="uid" class="uid"></span>
            </div>
            
        </div>
    </div>
    <div id="main" style="background-color: #222;min-height: 750px;">
        
        <div class="page_body subject_test" id="test" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <h3 class="test_title">请选择测试类型：</h3>
                <div class="test_amount">
                    <label ui="type:'Radiobox',formname:'amount',value:'5',targetControl:'pageTest',checked:'true'">
                        <span class="hui_radiobox_label">5 道题</span>
                    </label>
                    <label ui="type:'Radiobox',formname:'amount',value:'20',targetControl:'pageTest'">
                        <span class="hui_radiobox_label">20 道题</span>
                    </label>
                    <label ui="type:'Radiobox',formname:'amount',value:'20',targetControl:'pageTest'">
                        <span class="hui_radiobox_label">50 道题</span>
                    </label>
                    <hr class="clearfix" />
                </div>
                <button class="subject_nxt" ui="type:'Button',formname:'subject_nxt2'" tabindex="100">开始测试</button>
            </div>
        </div>
        <script>
        function initPageTest() {
            // pageTest
            var pageTest;
            pageTest = function () {
                hui.Action.call(this);
                this.id = 'pageTest';
                this.main = 'test';
            };
            pageTest.prototype = {
                initBehavior: function () {
                    var me = this; 
                    me.getByFormname('subject_nxt2').onclick = function () {
                        var amount = me.getParamMap().amount.join('');
                        hui.setCookie('amount', amount);
                        window.location.href = '#/start~amount=' + me.getParamMap().amount.join('');
                    };
                },
                finish: function () {
                    var me = this;
                    showTab('test');
                }
            };

            hui.inherits(pageTest, hui.Action);
            hui.Router.setRule('/test', 'pageTest');
            hui.window.pageTest = pageTest;
        }
        </script>
        <div class="page_body subject_start" id="start" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <div class="subject_box" ui="type:'Panel',formname:'form',size:{width:'980px'}" style="display123:none">
                    <div class="subject_action">
                        <input type="hidden" ui="type:'TextInput',formname:'atcid'" />
                        <input type="hidden" ui="type:'TextInput',formname:'title'" />
                        <input type="hidden" ui="type:'TextInput',formname:'index'" />
                        <a href="#!/result" class="subject_end">查看结果</a>
                        <a style="display:none;" href="javascript:" class="subject_pre" ui="type:'Button',formname:'subject_pre'">上一题</a>
                    </div>
                    <h3 class="form_title"> 第 <span id="subject_index" ui="type:'Label',formname:'index1'">1</span> 题 <span class="sub">（共 <span id="subject_sum" ui="type:'Label',formname:'sum'">100</span> 题）</span></h3>
                    <div class="form_content">
                        <!--div class="form_mask"><img src="img/loading.gif" /></div-->
                        <div class="subject_title">
                            <span ui="type:'Label',formname:'index2'">1</span>、<pre ui="type:'Label',formname:'title1'"></pre>
                        </div>
                        <ol class="subject_option" ui="type:'Panel',formname:'content',isFormItem: true">
                        </ol>
                        <div style="text-align: right;"><button class="subject_nxt" ui="type:'Button',formname:'subject_nxt2'" tabindex="100">提 交</button><a href="javascript:" class="subject_skip" ui="type:'Button',formname:'subject_skip'">跳 过</a></div>
                    </div>
                </div>
            </div>
        </div>
        <script>
        function initPageStart() {
            // pageStart
            var pageStart;
            pageStart = function () {
                hui.Action.call(this);
                this.id = 'pageStart';
                this.main = 'start';
            };
            pageStart.prototype = {
                initBehavior: function () {
                    var me = this; 

                    me.getByFormname('subject_nxt2').onclick = function () {
                        var data = hui.Control.getByFormname('form').getParamMap();
                        data.content = window.encodeURIComponent(JSON.stringify(data.content));
                        if (data.content.indexOf('yes') !== -1) {
                            hui.Control.getByFormname('subject_skip').onclick();
                        }
                        else if (window.confirm('友情提示：您尚未选择任何答案，确定跳过该题目吗')) {
                            hui.Control.getByFormname('subject_skip').onclick();
                        }
                    };
                    
                    me.getByFormname('subject_skip').onclick = function () {
                        var me = hui.Control.getById('pageStart');
                        var form = me.getByFormname('form');
                        var data = form.getParamMap();
                        data.content = window.encodeURIComponent(JSON.stringify(data.content));
                        data.test_id = hui.util.getCookie('test_id');
                        me.saveNextQuestionResult(data);
                        $('.subject_nxt').attr('disabled','disabled');
                        // $('.form_content').animate({opacity:0}, 500);
                        // $('.form_content').css({opacity:0});
                        // $('.form_mask').show();
                    };

                    me.getByFormname('form').initSubject = function () {
                        var test_id = hui.util.getCookie('test_id'),
                            finish = hui.util.getCookie('testid_' + test_id);

                        if (test_id && finish !== 'finish') {
                            hui.Control.getByFormname('form').getNextQuestion();
                        }
                        else {
                            Requester.get('/ue_api/internal/create_question_list', {
                                data: {
                                    amount: me.querystring.amount || hui.util.getCookie('amount'),
                                    rand: Math.random()
                                },
                                onsuccess: function (result) {
                                    if (result && !result[0] && result[1] && result[1].test_id) {
                                        hui.util.setCookie('test_id',  result[1].test_id);
                                        hui.util.setCookie('testid_' + result[1].test_id, 'unfinish');
                                        hui.util.setCookie('test_index', 1);
                                        
                                        hui.Control.getByFormname('form').getNextQuestion();
                                    }
                                }
                            });
                        }
                    };
                    me.getByFormname('form').getNextQuestion = function () {
                        Requester.get('/ue_api/internal/get_next_question', {
                            data: {
                                // newstart: finish ? 'newone' : '', 
                                // amount: hui.util.getCookie('amount'),
                                amount: me.querystring.amount || hui.util.getCookie('amount'),
                                test_id: hui.util.getCookie('test_id'),
                                test_index: Number(hui.getCookie('test_index')),
                                rand: Math.random()
                            },
                            onsuccess: function (result) {
                                if (result && !result[0] && result[1]) {
                                    var data = result[1];
                                    if (data.atcid) {
                                        data.title = hui.util.encodehtml(data.title);
                                        data.atcid = data.atcid;
                                        data.index2 = data.index1 = data.index;

                                        hui.setCookie('test_index', data.index);
                                        
                                        data.title1 = data.title;

                                        hui.Control.getByFormname('form').setValueByTree(data);
                                        hui.Control.getByFormname('form').getByFormname('content').disposeChild();
                                        //var content = hui.Control.getByFormname('form').getByFormname('content').getMain();
                                        var list = data.options;
                                        for (var i in list) {
                                            list[i].index = i;
                                            list[i].single = data.single;
                                            hui.Control.getByFormname('form').addOption(list[i]);
                                        }
                                        $('.subject_nxt').removeAttr('disabled');
                                        //$('.form_content').animate({opacity:1}, 400);
                                        $('.form_content').css({opacity:1});
                                        //$('.form_mask').hide();
                                        hui.Control.getByFormname('form').hideWaiting();
                                    }
                                }
                            }
                        });
                    };
                    me.getByFormname('form').showWaiting();
                    me.getByFormname('form').addOption = function (obj) {
                        var content = hui.Control.getByFormname('form').getByFormname('content').getMain(),
                            list,
                            index;
                        obj = obj || {};
                        if (!obj.index) {
                            var list = hui.c('td_index');
                            obj.index = 1;
                            for (var i = 0, len = list.length; i < len; i++) {
                                index = parseInt(list[i].innerHTML);
                                if (index >= obj.index) {
                                    obj.index = index + 1;
                                }
                            }
                        }
                        obj.single = obj.single ? 'Radiobox' : 'Checkbox';
                        // obj.content = hui.util.encodehtml(obj.content);
                        var tpl =
                            '<li class="tr_row" id="content#{index}" ui="type:\'Panel\',formname:\'#{index}\',isFormItem: true">' +
                            '    <div ui="type:\'Label\',id:\'content#{index}\'">#{hui.util.encodehtml(hui.util.decode(content))}</div>' +
                            '    <span class="td_index">#{index}</span>' +
                            '    <div ui="type:\'#{single}\',targetForm:\'content\',formname:\'correct\',id:\'correct#{index}\',value:\'yes\',checked:\'#{correct}\'"></div>' +
                            '</li>';
                        hui.util.appendHTML(content, hui.format(tpl, obj));
                        hui.Control.create(hui.g('content' + obj.index));
                    };
                    me.getByFormname('form').removeOption = function (index) {
                        var content = hui.Control.getByFormname('form').getByFormname('content');
                        content.getByFormname(index).dispose();
                    };
                    me.getByFormname('form').removeAllOption = function () {
                        var content = hui.Control.getByFormname('form').getByFormname('content'),
                            option,
                            main = content.getMain();
                        var list = hui.c('td_index');
                        for (var i = 0, len = list.length; i < len; i++) {
                            index = parseInt(list[i].innerHTML);
                            option = content.getByFormname(i);
                            if (option) {
                                option.dispose();
                            }
                        }
                        main.index = 0;
                    };
                    
                },
                saveNextQuestionResult: function(data) {
                    data.uid = hui.getCookie('uid');
                    Requester.get('/ue_api/internal/save_next_question', {
                        data: data,
                        onsuccess: function (result) {
                            // hui.Control.getByFormname('form').getByFormname('subject_nxt').setDisabled(false);
                            if (result && result[1] && result[1].finish) {
                                hui.Control.getByFormname('form').hide();
                                window.location.href = '#!/result';
                                hui.util.setCookie('testid_' + hui.util.getCookie('test_id'), 'finish');
                            }
                            else {
                                hui.util.setCookie('test_index', Number(hui.util.getCookie('test_index')) + 1);
                                hui.util.setCookie('testid_' + hui.util.getCookie('test_id'), 'unfinish');
                                hui.Control.getByFormname('form').getNextQuestion();
                            }
                            //}
                            //else {
                                //hui.Control.getByFormname('form').hide();
                                //showTestScore();
                                //hui.util.setCookie('testid_' + hui.util.getCookie('test_id'), 'finish');
                            //}
                        }
                    });
                },
                finish: function () {
                    var me = this;
                    showTab('test', 'start');

                    me.getByFormname('form').initSubject();
                }
            };

            hui.inherits(pageStart, hui.Action);
            hui.Router.setRule('/start', 'pageStart');
            hui.window.pageStart = pageStart;
        }
        </script>
        <div class="page_body" id="result" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <div class="result_box" ui="type:'Panel',formname:'result',size:{width:'720px'}" style="display123:none">
                    <div class="box_content">
                        <div class="result_score">成绩 <b class="score" ui="type:'Label',formname:'score'">84</b> <span class="score_unit">分</span></div>
                        <div class="result_correct">答对 <b class="correct" ui="type:'Label',formname:'correct'">40</b> 题 （共 <b class="correct" ui="type:'Label',formname:'question_count'">40</b> 题） </div>
                        
                        <div class="result_time">耗时 <b class="time" ui="type:'Label',formname:'time'">40</b> 分钟</div>
                        <div class="result_chart_bg"><div class="result_chart" id="result_chart">&nbsp;</div></div>
                        <div class="result_rate">您打败了<b class="rate"><span ui="type:'Label',formname:'rate'">64</span>%</b>的挑战者!</div>
                        <div class="result_tip">点击“下一步”继续进行评估。</div>
                        <button class="result_nxt" ui="type:'Button',formname:'result_nxt'" tabindex="100">下一步</button>
                    </div>
                </div>
            </div>
        </div>
        <script>
        function initPageResult() {
            // pageResult
            var pageResult;
            pageResult = function () {
                hui.Action.call(this);
                this.id = 'pageResult';
                this.main = 'result';
            };
            pageResult.prototype = {
                initBehavior: function () {
                    var me = this;
                    
                    me.getByFormname('result_nxt').onclick = function () {
                        // hui.Control.getByFormname('result').hide();
                        // hui.Control.getByFormname('candidate').show();
                        // showEvaluateReport();
                        window.location.href = '#/candidate';
                    };
                },
                showTestScoreCallback: function () {
                    var me = this;
                    // hui.g('subject_index').innerHTML = '1';
                    var list = me.rankList;
                    var score = me.testResult.score;
                    var beyondNum = 0;
                    for (var i=0,len=list.length; i<len; i++) {
                        list[i].score = list[i].score === undefined ? 0 : list[i].score;
                        if (score > list[i].score) {
                            beyondNum++;
                        }
                    }
                    
                    var data = {};
                    data.score = me.testResult.score;
                    data.correct = me.testResult.correct;
                    data.question_count = me.testResult.sum;
                    data.rate = Math.round(100 * beyondNum / (list.length + 0.001));
                    data.time = Math.ceil((hui.util.parseDate(me.testResult.time_end).getTime() - hui.util.parseDate(me.testResult.time_start).getTime()) / 60000);
                    data.time = isNaN(data.time) ? 1 : data.time + 1;
                    hui.g('result_chart').style.width = data.rate * 4 + 'px';
                    hui.Control.getByFormname('result').setValueByTree(data).show();
                },
                showTestScore: function() {
                    var me = this;
                    Requester.get('/ue_api/internal/get_ranks', {
                        onsuccess: function (result) {
                            if (result && result[1]) {
                                me.rankList = result[1].rankList;
                                hui.util.setCookie('rankList', me.rankList);
                                if (me.testResult !== undefined) {
                                    me.showTestScoreCallback();
                                }
                            }
                        }
                    });
                    queryTestResult(function(list, referenceMap){
                        var num = 0;
                        var correct;
                        var time_start;
                        var time_end;
                        
                        for (var j=0,len2=list.length; j<len2; j++) {
                            item = referenceMap[list[j]];
                            if (!item.answer) continue;
                            correct = true;
                            for (var i in item.options) {
                                if ((item.options[i].correct === 'yes' && item.options[i].answer == 'your') ||
                                    (item.options[i].correct === '' && item.options[i].answer == '')){
                                    continue;
                                }
                                else {
                                    correct = false;
                                    break;
                                }
                            }
                            num += correct ? 1 : 0;
                            if (time_start === undefined || time_start > item.test_time) {
                                time_start = item.test_time;
                            }
                            if (time_end === undefined || time_end < item.test_time) {
                                time_end = item.test_time;
                            }
                        }
                        
                        me.testResult = {};
                        me.testResult.score = Math.round(100 * num / (list.length + 0.0001));
                        me.testResult.correct = num;
                        me.testResult.sum = list.length;
                        me.testResult.time_start = time_start;
                        me.testResult.time_end = time_end;
                        
                        if (me.rankList !== undefined) {
                            me.showTestScoreCallback();
                        }
                    });
                    
                },
                finish: function () {
                    var me = this;
                    showTab('test', 'result');

                    me.showTestScore();
                }
            };

            hui.inherits(pageResult, hui.Action);
            hui.Router.setRule('/result', 'pageResult');
            hui.window.pageResult = pageResult;
        }
        </script>
        <div class="page_body" id="candidate" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <div class="candidate_box" ui="type:'Panel',formname:'candidate',size:{width:'720px'}" style="display123:none">
                    <div class="box_content">
                        <h3 class="candidate_title">薪资提升幅度</h3>
                        <div class="row_item row_career">
                            <div class="title">工作经验（年）：<span class="validate_text" id="career_msg"></span></div>
                            <div ui="type:'Slider',formname:'career',labels:false,ticks:true,tickStep:1,minValue:0,maxValue:10,width:320,smallChange:1,value:0"></div>
                        </div>
                        <hr class="clearfix" />
                        <div class="row_item row_package">
                            <div class="title">目前年薪档位（万）：<span class="validate_text" id="annual_msg"></span></div>
                            <div ui="type:'Slider',formname:'annual',labels:false,ticks:true,tickStep:5,minValue:0,maxValue:40,width:320,smallChange:1,value:0"></div>
                        </div>
                        <hr class="clearfix" />
                        <div class="candidate_tip">点击“下一步”会根据您目前的 &nbsp;<b>工作经验</b> 、<b>年薪档位</b> 及 <b>测试结果</b> &nbsp;准确<br/>计算出您的 <b class="strong">薪资收入</b> 提升空间! <br /><br />
                        薪资提升幅度 = 测评结果 x 系数 + 目前年薪 x 系数 + 工作经验 x 系数</div>
                        <button class="candidate_nxt" ui="type:'Button',formname:'candidate_nxt',disabled:'disabled'" tabindex="100">下一步</button>
                    </div>
                </div>
            </div>
        </div>
        <script>
        function initPageCandidate() {
            
            // hui.Control.getByFormname('report').show();
            hui.Validator.setRule('career', {
                'validate': function (text) {
                    if (text === null || text === undefined || text === '') {
                        return 1;
                    }
                    return 0;
                },
                'noticeText': {
                    1: '不能为空'
                }
            }, 'force');
            hui.Validator.setRule('annual', {
                'validate': function (text) {
                    if (text === null || text === undefined || text === '') {
                        return 1;
                    }
                    return 0;
                },
                'noticeText': {
                    1: '不能为空'
                }
            }, 'force'); //*/

            // pageCandidate
            var pageCandidate;
            pageCandidate = function () {
                hui.Action.call(this);
                this.id = 'pageCandidate';
                this.main = 'candidate';
            };
            pageCandidate.prototype = {
                initBehavior: function () {
                    var me = this;
                    var candidate = hui.Control.getByFormname('candidate');
                    candidate.getByFormname('candidate_nxt').onclick = function () {
                        var data = candidate.getParamMap();
                        if (data.annual !== '0' && data.career !== '0') {
                            data.test_id = hui.util.getCookie('test_id');
                            hui.util.setCookie('user_annual', data.annual);
                            hui.util.setCookie('user_career', data.career);
                            Requester.get('/ue_api/internal/update_rank', {
                                data: data,
                                onsuccess: function (result) {
                                    // hui.Control.getByFormname('form').getByFormname('subject_nxt').setDisabled(false);
                                    if (result && !result[0]) {
                                        // showEvaluateReport();
                                        window.location.href = '#!/report';
                                    }
                                }
                            });
                        }
                        else {
                            if (data.annual === '0') {
                                hui.g('annual_msg').innerHTML = '不能为空';
                            }
                            if (data.career === '0') {
                                hui.g('career_msg').innerHTML = '不能为空';
                            }
                        }
                    };
                    candidate.getByFormname('career').onmove = function () {
                        hui.g('career_msg').innerHTML = '';
                        if (candidate.getByFormname('career').getValue() !== '0' &&
                            candidate.getByFormname('annual').getValue() !== '0') {
                            candidate.getByFormname('candidate_nxt').setDisabled(false);
                        }
                        else {
                            candidate.getByFormname('candidate_nxt').setDisabled();
                        }
                    };
                    candidate.getByFormname('annual').onmove = function () {
                        hui.g('annual_msg').innerHTML = '';
                        if (candidate.getByFormname('career').getValue() !== '0' &&
                            candidate.getByFormname('annual').getValue() !== '0') {
                            candidate.getByFormname('candidate_nxt').setDisabled(false);
                        }
                        else {
                            candidate.getByFormname('candidate_nxt').setDisabled();
                        }
                    };
                },
                finish: function () {
                    var me = this;
                    showTab('test', 'candidate');

                    var annual = hui.util.getCookie('user_annual');
                    var career = hui.util.getCookie('user_career');
                    if (annual) {
                        var candidate = hui.Control.getByFormname('candidate');
                        candidate.setValueByTree({annual: annual, career: career});
                        candidate.getByFormname('candidate_nxt').setDisabled(false);
                    }
                }
            };

            hui.inherits(pageCandidate, hui.Action);
            hui.Router.setRule('/candidate', 'pageCandidate');
            hui.window.pageCandidate = pageCandidate;
        }
        </script>
        <div class="page_body" id="report" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <div class="report_box" ui="type:'Panel',formname:'report',size:{width:'720px'}" style="display123:none"> 
                    <div class="box_content">
                        <h3 class="report_title">测评报告</h3>
                        <div class="fe_level" style="display:none;">
                        初级前端工程师 0-33    5~10W   1000人 <br/>
                        中级前端工程师 34-55   8~20W   200 <br/>
                        高级前端工程师 50-70  18~26W   300 <br/>
                        前端架构师     65-85  22~36W   10 <br/>
                        前端专家       80-100 34~99W   1  <br/>  
                        </div>                  
                        <div class="result_level">测评结果 <b class="strong" ui="type:'Label',formname:'cur'">高级前端工程师</b> <span style="display123:none"> 平均年薪 <b class="b"><span ui="type:'Label',formname:'annual'">20</span>万</b></span>，<span style="display123:none" class="effect" onmousedown="hui.c('spam', this).remove()">预计经过<b class="b">前端训练营</b> 的<a href="#!/lesson"><b class="strong highlight"><span ui="type:'Label',formname:'nxt'">前端架构师</span>特训</b></a><br/>能够达到 <b class="strong" ui="type:'Label',formname:'nxt2'">前端架构师</b> 级别，&nbsp;您的薪资可以提高 <b class="b" ui="type:'Label',formname:'increase'">6~12</b>万，达到 <b class="b" ui="type:'Label',formname:'target'">26~34</b>万/年以上。 </span></div>
                        <div style="display123:none" class="effect">咨询预约：<b class="tel">189<span class="spam" style="display:none;">8</span>18<span class="spam" style="display:none;">8</span>12<span class="spam" style="display:none;">8</span>64<span class="spam" style="display:none;">8</span>28</b> <b class="b">&nbsp;</b>微信：<b class="tel">fe<span class="spam" style="display:none;">8</span>camps</b> &nbsp;&nbsp;&nbsp; [我们的宗旨是] 培养前端专家级人物！</div>
          
                        <div class="result_title"> 单项评分 &nbsp;&nbsp;<a href="#!/detail" onclick123="showPaperDetail()" style="cursor:pointer;"><small>(答题详情)</small></a></div>
                        <div class="result_detail">
                            <div id="skill_chart" style="min-width: 310px; max-width: 310px; height: 300px; position: absolute;z-index:9999;margin-left: 420px;"></div>
                            <div ui="type:'Table',formname:'skill_list',fields:'&listTable',datasource:'&listData',sortable:true,size:{width:390}"></div>
                        </div>    
                    </div>
                </div>
            </div>
        </div>
        <script>
        function initPageReport() {
            // pageReport
            var pageReport;
            pageReport = function () {
                hui.Action.call(this);
                this.id = 'pageReport';
                this.main = 'report';
            };
            pageReport.prototype = {
                initModel: function () {
                    window.listTable = [
                        {
                            width: 100,
                            title: '技能',
                            sortable: true,
                            field: 'index',
                            content: function (item) {
                                return item['skill'];
                            }
                        }, {
                            width: 40,
                            title: '答对',
                            sortable: true,
                            field: 'correct',
                            content: function (item) {
                                return item['correct'];
                            }
                        }, {
                            width: 40,
                            title: '得分',
                            sortable: true,
                            field: 'score',
                            content: function (item) {
                                return item['score'];
                            }
                        }
                    ];
                    window.listData = [
                        // {
                        //     'skill': 'html',
                        //     'correct': 2,
                        //     'score': 40
                        // }, {
                        //     'skill': 'css',
                        //     'correct': 2,
                        //     'score': 40
                        // }
                    ];
                },
                initBehavior: function () {
                    var me = this;
                },
                finish: function () {
                    var me = this;
                    showTab('test', 'report');

                    me.showEvaluateReport();
                },
                showEvaluateReport: function () {
                    var me = this;
                    // hui.Control.getByFormname('form').getByFormname('subject_nxt').setDisabled(false);
                    queryTestResult(function(list, referenceMap){
                        var num = 0;
                        var category = {};
                        var correct;
                        var key;
                        
                        for (var j=0,len2=list.length; j<len2; j++) {
                            item = referenceMap[list[j]];
                            if (!item.answer) continue;
                            correct = true;
                            for (var i in item.options) {
                                if ((item.options[i].correct === 'yes' && item.options[i].answer == 'your') ||
                                    (item.options[i].correct === '' && item.options[i].answer == '')){
                                    continue;
                                }
                                else {
                                    correct = false;
                                    break;
                                }
                            }
                            num += correct ? 1 : 0;
                            
                            for (var i in item.label) {
                                var key = item.label[i];
                                category[key] = category[key] || {};
                                category[key].sum = category[key].sum || 0;
                                category[key].sum += 1;
                                category[key].right = category[key].right || 0;
                                category[key].right += correct ? 1 : 0;
                            }
                        }
                        console.log(category);

                        var data = {};
                        data.score = Math.round(100 * num / (list.length + 0.0001));
                        var grade = [{level:'初级前端工程师   ', score:0,  annual:3,  min:3, max:4},
                                    {level:'中级前端工程师', score:10, annual:6,  min:4, max:8},
                                    {level:'中级前端工程师', score:34, annual:11, min:6, max:12},
                                    {level:'高级前端工程师', score:55, annual:18, min:6, max:12},
                                    {level:'前端架构师    ', score:70, annual:26, min:6, max:12},
                                    {level:'前端专家      ', score:85, annual:35, min:1, max:10},
                                    {level:'前端专家      ', score:101,annual:45, min:10, max:99}];
                        var level = 0;
                        for (var i=0,len=grade.length; i<len; i++) {
                            level = data.score > grade[i].score ? i : level;
                        }
                        data.cur  = grade[level].level;
                        data.nxt  = '前端架构师'; // grade[level+1].level.replace('工程师', '');
                        data.nxt2 = grade[level+1].level;
                        
                        data.annual = grade[level].annual;
                        data.increase = grade[level].min + '~' + grade[level].max;
                        
                        data.target = (data.annual + grade[level].min)  + '~' + (data.annual + grade[level].max);
                        
                        me.getByFormname('report').setValueByTree(data).show();

                        var datasource = [
                            {index: 1, 'skill': 'HTML',      'correct': 0,'score': 0},
                            {index: 2, 'skill': 'CSS',       'correct': 0,'score': 0},
                            {index: 3, 'skill': 'Javascript','correct': 0,'score': 0},
                            {index: 4, 'skill': 'DOM',       'correct': 0,'score': 0},
                            {index: 5, 'skill': 'HTML5CSS3', 'correct': 0,'score': 0},
                            {index: 8, 'skill': 'Server',    'correct': 0,'score': 0},
                            {index: 6, 'skill': 'jQuery',    'correct': 0,'score': 0},
                            {index: 7, 'skill': 'PS',        'correct': 0,'score': 0}
                        ];
                        for (var i=0,len=datasource.length; i<len; i++) {
                            if (datasource[i] && category[datasource[i].skill]) {
                                item = datasource[i];
                                key = category[item.skill];
                                item.correct = key.right;
                                item.score = Math.floor(key.right*100/key.sum);
                            }
                        }
                        
                        var score = [];
                        for (var i=0,len=datasource.length; i<len; i++) {
                            score.push(datasource[i].score);
                        }
                        me.showResultChart(score);
                        var skill_list = hui.Control.getByFormname('skill_list');
                        skill_list.datasource = datasource;
                        skill_list.renderBody();
                    });

                },
                showResultChart: function (data){
                    $('#skill_chart').highcharts({
                        chart: {
                            polar: true,
                            type: 'line'
                        },
                        title: {
                            text: '',
                            y: -80
                        },
                        pane: {
                            size: '78%',
                            center: ['62%', '50%']
                        },
                        xAxis: {
                            categories: ['HTML', 'CSS', 'JS', 'DOM', 'HTML5/CSS3', 'Backend', 'jQuery', 'PS'],
                            tickmarkPlacement: 'on',
                            lineWidth: 0
                        },
                        yAxis: {
                            gridLineInterpolation: 'polygon',
                            lineWidth: 0,
                            min: 0,
                            endOnTick: false,
                            max: 108
                        },
                        tooltip: {
                            shared: true,
                            pointFormat: '<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'
                        },
                        legend: {
                            align: 'right',
                            verticalAlign: 'top',
                            y: 0,
                            x: 0,
                            layout: 'vertical'
                        },
                        series: [{
                            name: '中级水平',
                            data: [70, 70, 60, 65, 40, 20, 60, 60],
                            pointPlacement: 'off',
                            color: 'gray'
                        }, {
                            name: '高级水平',
                            data: [80, 80, 75, 80, 65, 50, 70, 75],
                            pointPlacement: 'off',
                            color: '#f90'
                        }, {
                            name: '架构师　',
                            data: [95, 95, 95, 95, 80, 80, 85, 80],
                            pointPlacement: 'off',
                            color: '#f60'
                        }, {
                            name: '目前级别',
                            data: data ? data : [43, 19, 60, 35, 17, 10, 10, 17],
                            pointPlacement: 'off',
                            color: '#090'
                        }]
                    });
                }
            };

            hui.inherits(pageReport, hui.Action);
            hui.Router.setRule('/report', 'pageReport');
            hui.window.pageReport = pageReport;
        }
        </script>
        <div class="page_body detail_box" id="detail" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <div class="report_box" ui="type:'Panel',formname:'detail',size:{width:'720px'}" style="display123:none"> 
                    <div class="box_content" style="height:556px;overflow:auto;">
                        <h3 class="detail_title">答题详情</h3>
                        <div class="detail_container" id="detail_container"></div>
                    </div>
                </div>
            </div>
        </div>
        <script>
        function initPageDetail() {
            // pageDetail
            var pageDetail;
            pageDetail = function () {
                hui.Action.call(this);
                this.id = 'pageDetail';
                this.main = 'detail';
            };
            pageDetail.prototype = {
                initBehavior: function () {
                    var me = this;
                },
                showPaperDetail: function () {
                    queryTestResult(function(list, referenceMap){
                        var html = [
                                '<h4 class="title">格式说明</h4>',
                                '<ul class="option_list">',
                                '    <li class="yes"><div class="txt">参考答案</div></li>',
                                '    <li class="your" style="list-style-type: circle;"><div class="txt">您选的答案</div></li>',
                                '</ul>'
                            ].join('');
                        var tpl = [
                                '<li class="#{correct} #{answer}">',
                                '    <div class="txt">#{hui.util.encodehtml(hui.util.decode(content))} </div>',
                                '</li>'
                            ].join('');
                        var finish = hui.util.getCookie('testid_' + hui.util.getCookie('test_id')) === 'finish';
                        
                        for (var j=0,len2=list.length; j<len2; j++) {
                            item = referenceMap[list[j]];
                            if (!item.answer && !finish) continue;
                            
                            html += '<h4 class="title">' + (j + 1) + '、' + hui.util.encodehtml(hui.util.decode(item.title)) + '[' + item.label.join(',') + ']</h4>\n';
                            
                            html += '<ul class="option_list">';
                            for (var i in item.options) {
                                item.options[i].index = i;
                                html += hui.format(tpl, item.options[i]);
                            }
                            html += '</ul>\n';
                        }
                        hui.g('detail_container').innerHTML = html;
                        
                        // console.log(html);
                    });
                },
                finish: function () {
                    var me = this;
                    showTab('test', 'detail');

                    me.showPaperDetail();
                }
            };

            hui.inherits(pageDetail, hui.Action);
            hui.Router.setRule('/detail', 'pageDetail');
            hui.window.pageDetail = pageDetail;
        }
        </script>
        <div class="page_body" id="send_sms" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <div class="sms_box" ui="type:'Panel',formname:'send_sms',size:{width:'410px'}" style="display123:none">
                    <div class="box_content">
                        <h3 class="sms_title">请输入短信验证码</h3>
                        <label class="sms_item">
                            <div class="item_title">手机号: </div>
                            <div class="item_content">
                                <input type="text" maxlength="11" ui="type:'TextInput',formname:'mobile',rule:'not_empty&&mobile',autoValidate:true,autoHideError:true,hideBlankError:true" />
                                <a class="send_code" id="send_code" href="javascript:">获取验证码</a>
                            </div>
                        </label>
                        <label class="sms_item">
                            <div class="item_title">验证码: </div>
                            <div class="item_content">
                                <input type="text" ui="type:'TextInput',formname:'randcode',rule:'not_empty',autoValidate:true,autoHideError:true,hideBlankError:true" />
                            </div>
                        </label>
                        <button class="candidate_nxt" ui="type:'Button',formname:'send',disabled:false">提 交</button>
                    </div>
                </div>
            </div>
        </div>
        <script>
        function initPageSendSMS() {
            hui.Validator.setRule('mobile', {
                'validate': function (text) {
                    var len = text.length;
                    text = text.replace(/[^0-9]/ig, '');
                    text = text.replace(/^86/ig, '');
                    var f = /^(13\d|15\d|18\d|14\d|170)\d{8}$/.test(text);
                    if (len === 0) {
                        return 1;
                    }
                    else if (len !== 11) {
                        return 2;
                    }
                    else if (!f) {
                        return 3;
                    }
                    var me = this;
                    if (me.existValue == text && me.isExist == 'exist') {
                        return 4;
                    }
                    return 0;
                },
                'noticeText': {
                    1: '手机号码不能为空',
                    2: '手机号码由11位数字组成',
                    3: '目前只支持13*、15*、18*、14*、170号段',
                    4: '手机号已存在'
                }
            }, 'force');
            
            // pageSendSMS
            var pageSendSMS;
            pageSendSMS = function () {
                hui.Action.call(this);
                this.id = 'pageSendSMS';
                this.main = 'send_sms';
            };
            pageSendSMS.prototype = {
                initBehavior: function () {
                    var me = this;

                    me.initSendSMS();
                    smsTimerCount();
                },
                initSendSMS: function () {
                    var send_sms = hui.Control.getByFormname('send_sms');
                    var submit = send_sms.getByFormname('send');
                    submit.onclick = function () {
                        var send_sms = hui.Control.getByFormname('send_sms');
                        if (send_sms.validate()) {
                            var data = hui.Control.getByFormname('send_sms').getParamMap();
                            Requester.get('/ue_api/account/sms_auth', {
                                data: data,
                                onsuccess: function (result) {
                                    // hui.Control.getByFormname('form').getByFormname('subject_nxt').setDisabled(false);
                                    if (result && !result[0] && result[1]) {
                                        send_sms.hide();
                                        
                                    }
                                    else if (result && result[0]) {
                                        send_sms.showErrorByTree(result[0]);
                                    }
                                    else {
                                        submit.showError('Send fail.');
                                    }
                                }
                            });
                        }
                    };
                    hui.g('send_code').onclick = function(){
                        var mobile = hui.Control.getByFormname('send_sms').getByFormname('mobile');
                        if (mobile.validate() && !hui.util.getCookie('smsTimer')) {
                            hui.util.setCookie('smsTimer', 90);
                            hui.g('send_code').className = 'send_code_disabled';
                            smsTimerCount();
                            Requester.get('/ue_api/account/send_sms', {
                                data: {mobile: mobile.getValue(),randcode:6868},
                                onsuccess: function (result) {
                                    // hui.Control.getByFormname('form').getByFormname('subject_nxt').setDisabled(false);
                                    if (result && result[1]) {
                                        submit.showError('Send success.');
                                    }
                                    else if (result && result.err_msg) {
                                        submit.showError(result.err_msg);
                                    }
                                    else {
                                        submit.showError('Send fail.');
                                    }
                                }
                            });
                        }
                    };
                    var mobile = send_sms.getByFormname('mobile');
                    mobile.onchange = function(){
                        // if (this.validate() && !hui.util.getCookie('smsTimer')) {
                        //     hui.g('send_code').className = 'send_code';
                        // }
                        // else {
                        //     hui.g('send_code').className = 'send_code_disabled';
                        // }
                    }
                },
                finish: function () {
                    var me = this;
                    showTab('test', 'send_sms');
                }
            };

            hui.inherits(pageSendSMS, hui.Action);
            hui.Router.setRule('/sendsms', 'pageSendSMS');
            hui.window.pageSendSMS = pageSendSMS;

            window.smsTimerCount = function(){
                var leftSec = hui.util.getCookie('smsTimer');
                if (leftSec>0) {
                    hui.g('send_code').className = 'send_code_disabled';
                    hui.g('send_code').innerHTML = '(' + leftSec + ')秒后重新获取';
                    hui.util.setCookie('smsTimer', --leftSec);
                    window.setTimeout(smsTimerCount, 1000);
                }
                else {
                    hui.util.setCookie('smsTimer', '');
                    hui.g('send_code').className = 'send_code';
                    hui.g('send_code').innerHTML = '获取验证码';
                    hui.Control.getByFormname('send_sms').getByFormname('mobile').onchange();
                }
            };
        }
        </script>

        <div class="page_body" id="index" style="display123: none;">
            <div class="page_banner">
                <div class="page_container">
                    <div class="page_banner_padding">&nbsp;</div>
                    <h1 class="test_title"><span>你想知道自己的前端技术实力排名吗</span><img alt="你想知道自己前端技术实力排名吗？" src="img/title_bg.png" width="55%"></h1>
                    <div class="test_desc">2014年，北京、上海、广州的互联网公司已超过30,000家，其中前端开发人员已超过100,000人，<br>你想知道自己技术实力的排名吗</div>
                    
                    <a class="test_btn" href="#!/start~amount=5&amp;tid=100001">立即测试</a>
                </div> 
            </div>
            <div class="page_middle">
                <div class="page_container">
                    <div class="contact">
                        <h3 class="contact_title">试听&amp;咨询</h3>
                        <ul class="test_list">
                            <li class="item_row">
                                <h4 class="sub_title">微信咨询</h4>
                                <div class="sub_list">
                                <b onmouseover="var list=this.getElementsByTagName('i');for(var i=list.length-1;i>-1;i--){list[i].parentNode&&list[i].parentNode.removeChild(list[i])}">fe_<i style="display:none;">8</i>camps<i style="display:none;">8</i>（8:00-22:00）</b></div>
                            </li>
                            <li class="item_row">
                                <h4 class="sub_title">电话咨询</h4>
                                <div class="sub_list"><b onmouseover="var list=this.getElementsByTagName('i');for(var i=list.length-1;i>-1;i--){list[i].parentNode&&list[i].parentNode.removeChild(list[i])}">189<i style="display:none;">8</i>64<i style="display:none;">8</i>80<i style="display:none;">8</i>06<i style="display:none;">8</i>60（8:00-22:00）</b></div>
                            </li>
                            <li class="item_row">
                                <h4 class="sub_title">QQ咨询</h4>
                                <div class="sub_list"><b onmouseover="var list=this.getElementsByTagName('i');for(var i=list.length-1;i>-1;i--){list[i].parentNode&&list[i].parentNode.removeChild(list[i])}">290<i style="display:none;">8</i>016<i style="display:none;">8</i>82<i style="display:none;">8</i>46（8:00-22:00）</b></div>
                            </li>
                        </ul>
                    </div>
                    <div class="description">
                        <h3 class="sub_title">前端训练营FECamps </h3>
                        <div class="desc_content">
                        <img src="img/qrcode.png" alt="" class="qrcode">
                        前端训练营致力于WEB前端高端人才培养，引领前端行业未来发展方向，帮助学员提升自身技术实力，实现职业目标。同时助力移动互联网企业高级软件技术人才培养，提升企业整体竞争力。</div>
                    </div>
                    
                    <div class="test_history">
                        <h3 class="history_title">最新评测结果</h3>
                        <ul class="test_list" id="test_list">
                            <li class="item_row">
                                <span class="t_user">tomcat</span>
                                <span class="t_time">76 m</span>
                                <span class="t_score">36</span>
                                <span class="t_date">2014-12-01 16:35</span>
                            </li>
                            <li class="item_row">
                                <span class="t_user">tomcat</span>
                                <span class="t_time">76 m</span>
                                <span class="t_score">36</span>
                                <span class="t_date">2014-12-01 16:35</span>
                            </li>
                        </ul>
                    </div>
                    <hr class="clearfix" />
                </div>
            </div>
        </div>
        <script>
        function initPageIndex() {
            // pageIndex
            var pageIndex;
            pageIndex = function () {
                hui.Action.call(this);
                this.id = 'pageIndex';
                this.main = 'index';
            };
            pageIndex.prototype = {
                initBehavior: function () {
                    var me = this;
                    
                    me.showTestHistory();
                    me.showTestButton();
                },
                finish: function () {
                    var me = this;
                    showTab('index');
                },
                showTestHistory: function() {
                    Requester.get('/ue_api/internal/get_ranks', {
                        onsuccess: function (result) {
                            if (result && result[1]) {
                                var tpl = [
                                    '<li class="item_row">',
                                    '    <span class="t_user">#{uid}</span>',
                                    '    <span class="t_time">#{time} 分钟</span>',
                                    '    <span class="t_score">#{score}</span>',
                                    '    <span class="t_date">#{time_end}</span>',
                                    '</li>'
                                ].join('');
                                
                                var list = result[1].rankList;
                                var html = '';
                                for (var i=0,len=list.length; i<len && i<4; i++) {
                                    list[i].time = Math.ceil((hui.util.parseDate(list[i].time_end).getTime() - hui.util.parseDate(list[i].time_start).getTime()) / 60000);
                                    list[i].time = isNaN(list[i].time) ? 1 : list[i].time + 1;
                                    list[i].uid = list[i].uid || '-';
                                    list[i].score = list[i].score || '-';
                                    list[i].time_end = list[i].time_end || '-';
                                    
                                    html += hui.util.format(tpl, list[i]);
                                }
                                
                                hui.g('test_list').innerHTML = html;
                            }
                        }
                    });
                },
                showTestButton: function() {
                    var test_id = hui.util.getCookie('test_id');
                    $('#resume_btn').hide();
                    $('#btn_report').hide();
                    if (test_id && hui.util.getCookie('testid_' + test_id) === 'finish') {
                        $('#btn_report').show();
                    }
                    else if (test_id && String(test_id).length > 20) {
                        $('#resume_btn').show();
                    }
                    
                    // $('.test_btn').show();
                }
            };

            hui.inherits(pageIndex, hui.Action);
            hui.Router.setRule('/', 'pageIndex');
            hui.window.pageIndex = pageIndex;
        }
        </script>
        <div class="page_body" id="history" style="background-color: white;display: none;">
            <div class="page_container">
                <div class="test_history">
                    <h3 class="history_title">评测历史列表</h3>
                    <!--<ul class="test_list">
                        <li class="item_row"><span class="t_user">用户名</span>    <span class="t_time">耗时(分钟)</span><span class="t_score">得分</span>    <span class="t_date">测评时间</span></li>
                    </ul> -->
                    <ul class="test_list" id="history_list">
                        <li class="item_row">
                            <span class="t_user">tomcat</span>
                            <span class="t_time">76 m</span>
                            <span class="t_score">36</span>
                            <span class="t_date">2014-12-01 16:35</span>
                        </li>
                        <li class="item_row">
                            <span class="t_user">tomcat</span>
                            <span class="t_time">76 m</span>
                            <span class="t_score">36</span>
                            <span class="t_date">2014-12-01 16:35</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <script>
        function initPageHistory() {
            // pageHistory
            var pageHistory;
            pageHistory = function () {
                hui.Action.call(this);
                this.id = 'pageHistory';
                this.main = 'history';
            };
            pageHistory.prototype = {
                initBehavior: function () {
                    var me = this;
                },
                finish: function () {
                    var me = this;
                    showTab('history');
                    
                    me.showTestHistory();
                },
                showTestHistory: function() {
                    Requester.get('/ue_api/internal/get_ranks', {
                        onsuccess: function (result) {
                            if (result && result[1]) {
                                var tpl = [
                                    '<li class="item_row">',
                                    '    <span class="t_user">#{uid}</span>',
                                    '    <span class="t_time">#{count} 题</span>',
                                    '    <span class="t_time">#{time} 分钟</span>',
                                    '    <span class="t_score">#{score}</span>',
                                    '    <span class="t_date">#{time_end}</span>',
                                    '</li>'
                                ].join('');
                                
                                var list = result[1].rankList;
                                var html = '';
                                for (var i=0,len=list.length; i<len; i++) {
                                    list[i].time = Math.ceil((hui.util.parseDate(list[i].time_end).getTime() - hui.util.parseDate(list[i].time_start).getTime()) / 60000);
                                    list[i].time = isNaN(list[i].time) ? 1 : list[i].time + 1;
                                    list[i].uid = list[i].uid || '-';
                                    list[i].score = list[i].score || '-';
                                    list[i].time_end = list[i].time_end || '-';
                                    
                                    html += hui.util.format(tpl, list[i]);
                                }
                                
                                hui.g('history_list').innerHTML = html;
                            }
                        }
                    });
                },
                
            };

            hui.inherits(pageHistory, hui.Action);
            hui.Router.setRule('/history', 'pageHistory');
            hui.window.pageHistory = pageHistory;
        }
        </script>
        <div class="page_body" id="industry" style="background-color: white;display: none;">
            <div class="page_container">
                <center>
                <img src="img/1232435.png" />
                <img src="img/1232436.png" />
                </center>
            </div>
        </div>
        <script>
        function initPageIndustry() {
            // pageIndustry
            var pageIndustry;
            pageIndustry = function () {
                hui.Action.call(this);
                this.id = 'pageIndustry';
                this.main = 'industry';
            };
            pageIndustry.prototype = {
                initBehavior: function () {
                    var me = this;
                },
                finish: function () {
                    var me = this;
                    showTab('industry');
                }
                
            };

            hui.inherits(pageIndustry, hui.Action);
            hui.Router.setRule('/industry', 'pageIndustry');
            hui.window.pageIndustry = pageIndustry;
        }
        </script>
        <div class="page_body" id="lesson" style="background-color: white;display: none;">
            <div class="page_container">
                <center>
                    <h2 class="kcTit">前端架构师 — 课程大纲</h2>
                    <p class="xxCon">本课程适合想成为专业前端架构师的你，我们做的是培养业界专家!</p>
                    <img src="img/fe_architect.png" alt="fe architect" />
                    <br/><br/>
                </center>
                
            </div>
        </div>
        <script>
        function initPageLesson() {
            // pageLesson
            var pageLesson;
            pageLesson = function () {
                hui.Action.call(this);
                this.id = 'pageLesson';
                this.main = 'lesson';
            };
            pageLesson.prototype = {
                initBehavior: function () {
                    var me = this;
                },
                finish: function () {
                    var me = this;
                    showTab('lesson');
                }
            };

            hui.inherits(pageLesson, hui.Action);
            hui.Router.setRule('/lesson', 'pageLesson');
            hui.window.pageLesson = pageLesson;
        }
        </script>
        <div class="page_body" id="about" style="background-color: white;display: none;">
            <div class="page_container" style="text-align:center">
                <img src="img/about_us.png" />
            </div>
        </div>
        <script>
        function initPageAbout() {
            // pageAbout
            var pageAbout;
            pageAbout = function () {
                hui.Action.call(this);
                this.id = 'pageAbout';
                this.main = 'about';
            };
            pageAbout.prototype = {
                initBehavior: function () {
                    var me = this;
                },
                finish: function () {
                    var me = this;
                    showTab('about');
                }
            };

            hui.inherits(pageAbout, hui.Action);
            hui.Router.setRule('/about', 'pageAbout');
            hui.window.pageAbout = pageAbout;
        }
        </script>
        
    </div>
    <div class="page_foot">
        <div class="page_container">
        沪ICP备15001838号 上海轩禄商务咨询有限公司 ©2015 版权所有
        </div>
    </div>
</div>  

    <div id="subject_add" class="subject_test">


    </div>
    <script>
    function queryTestResult(cb) {
        Requester.get('/ue_api/internal/get_result?test_id=' + hui.util.getCookie('test_id'), {
            onsuccess: function(result){
                if (result && !result[0] && result[1]) {
                    var data = result[1];
                    var referenceMap = {};
                    var list;
                    var atcid;
                    var item;
                    
                    list = data.reference_answer;
                    for (var i=0,len=list.length; i<len; i++) {
                        atcid = list[i].atcid;
                        referenceMap[atcid] = list[i];
                    }
                    
                    list = data.your_answer;
                    for (var i=0,len=list.length; i<len; i++) {
                        atcid = list[i].atcid;
                        if (referenceMap[atcid]) {
                            referenceMap[atcid].answer = list[i].content;
                            referenceMap[atcid].test_time = list[i].update_time;
                        }
                    }
                    list = data.paper;
                    for (var i=0,len=list.length; i<len; i++) {
                        item = referenceMap[list[i]];
                        if (item.answer) {
                            for (var j in item.options) {
                                item.options[j].answer = item.answer[j].correct === 'yes' ? 'your' : '';
                            }
                        }
                    }
                    cb && cb(list, referenceMap);
                }
            }
        });
    }
    </script>

<!-- script type="text/javascript" src="http://bpmjs.org/bpm_api/combo??hui_requester@0.0.1,hui_action@0.0.1,hui_panel@0.0.1,hui_table@0.0.1,hui_checkbox@0.0.1,hui_textinput@0.0.1,hui_button@0.0.1,hui_template@0.0.1,hui_checklabel@0.0.1,hui_boxpanel@0.0.1,hui_label@0.0.1,hui_slider@0.0.1,hui_radiobox@0.0.1,hui_dropdown@0.0.1,hui_validator@0.0.1?debug=true"></script -->
<!-- script type="text/javascript" src="http://bpmjs.org/js/??hui@0.0.1/hui.js,hui_validator@0.0.1/hui_validator.js,hui_util@0.0.1/hui_util.js,hui_dropdown@0.0.1/hui_dropdown.js,hui_control@0.0.1/hui_control.js,hui_radiobox@0.0.1/hui_radiobox.js,hui_checkbox@0.0.1/hui_checkbox.js,hui_slider@0.0.1/hui_slider.js,hui_draggable@0.0.1/hui_draggable.js,hui_label@0.0.1/hui_label.js,hui_boxpanel@0.0.1/hui_boxpanel.js,hui_checklabel@0.0.1/hui_checklabel.js,hui_template@0.0.1/hui_template.js,hui_button@0.0.1/hui_button.js,hui_textinput@0.0.1/hui_textinput.js,hui_table@0.0.1/hui_table.js,hui_panel@0.0.1/hui_panel.js,hui_action@0.0.1/hui_action.js,hui_requester@0.0.1/hui_requester.js?debug=true"></script -->
<script type="text/javascript" src="src/hui@0.0.1/hui.js"></script>
<script type="text/javascript" src="src/hui_validator@0.0.1/hui_validator.js"></script>
<script type="text/javascript" src="src/hui_util@0.0.1/hui_util.js"></script>
<script type="text/javascript" src="src/hui_dropdown@0.0.1/hui_dropdown.js"></script>
<script type="text/javascript" src="src/hui_control@0.0.1/hui_control.js"></script>
<script type="text/javascript" src="src/hui_radiobox@0.0.1/hui_radiobox.js"></script>
<script type="text/javascript" src="src/hui_checkbox@0.0.1/hui_checkbox.js"></script>
<script type="text/javascript" src="src/hui_slider@0.0.1/hui_slider.js"></script>
<script type="text/javascript" src="src/hui_draggable@0.0.1/hui_draggable.js"></script>
<script type="text/javascript" src="src/hui_label@0.0.1/hui_label.js"></script>
<script type="text/javascript" src="src/hui_boxpanel@0.0.1/hui_boxpanel.js"></script>
<script type="text/javascript" src="src/hui_mask@0.0.1/hui_mask.js"></script>
<script type="text/javascript" src="src/hui_checklabel@0.0.1/hui_checklabel.js"></script>
<script type="text/javascript" src="src/hui_template@0.0.1/hui_template.js"></script>
<script type="text/javascript" src="src/hui_button@0.0.1/hui_button.js"></script>
<script type="text/javascript" src="src/hui_textinput@0.0.1/hui_textinput.js"></script>
<script type="text/javascript" src="src/hui_table@0.0.1/hui_table.js"></script>
<script type="text/javascript" src="src/hui_panel@0.0.1/hui_panel.js"></script>
<script type="text/javascript" src="src/hui_action@0.0.1/hui_action.js"></script>
<script type="text/javascript" src="src/hui_requester@0.0.1/hui_requester.js"></script>
<!-- Only for highrchart!!  -->
<script type="text/javascript" src="src/jquery1.9.1.js         "></script>
<script type="text/javascript" src="src/highcharts.js          "></script>
<script type="text/javascript" src="src/highcharts-more.js     "></script>
</body>
</html>
